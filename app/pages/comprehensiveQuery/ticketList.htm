<div class="ribbon">
    <a href=""><span class="home fa fa-home"></span></a>
    <ol class="breadcrumb">
        <li>气票列表</li>
    </ol>
</div>

<div class="table-wrapper">

    <div class="toolbar">
        <form role="form">
            <div class="row">
                <div class="col-md-11">
                    <div class="col-md-12">
                        <label class="input">使用状态：</label>
                        <label class="input"><select  ng-model="q.useStatus" ng-options="useStatus.name for useStatus in vm.useStatusList" class="form-control" ng-selected="" ng-change="ticketStatusChange()"></select></label>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <label class="input">气票编号：</label>
                        <label class="input"><input type="text"  class="form-control" ng-model="q.ticketSn"></label>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <label class="input">客户ID：</label>
                        <label class="input"><input type="text"  class="form-control" ng-model="q.customerUserId"></label>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <label class="input">销售员ID：</label>
                        <label class="input"><input type="text"  class="form-control" ng-model="q.saleUserId"></label>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <label class="input">时间：</label>
                        <label class="input"><input type="text"  id="datetimepickerStart"  class="form-control" ng-model="q.startTime"></label>
                        <label class="input">—</label>
                        <label class="input"><input type="text"  id="datetimepickerEnd"  class="form-control" ng-model="q.endTime"></label>
                        <button title="删除时间" ng-click="deleteTimeRange()" type="button" class="btn btn-primary btn-outline btn-xs">
                            <i class="fa fa-trash-o"></i>
                        </button>
                    </div>
                </div>
                <div class="col-md-1">
                    <button  ng-click="search()" class="btn btn-md btn-primary pull-right"><i class="fa fa-search"></i> 搜索 </button>
                </div>
            </div>
        </form>
    </div>
    <table class="table table-striped table-hover props table-sm">
        <thead>
        <tr>
            <th width="1%"></th>
            <th width="3%">序号</th>
            <th width="11%">气票编号</th>
            <th width="5%">客户ID</th>
            <th width="5%">客户姓名</th>
            <th width="5%">销售员ID</th>
            <th width="5%">销售员姓名</th>
            <th width="5%">气票规格</th>
            <th width="5%">气票面值(元)</th>
            <th width="5%">使用状态</th>
            <th width="8%">使用时间</th>
            <th width="8%">有效期起始</th>
            <th width="8%">有效期结束</th>
            <th width="8%">创建时间</th>
            <th width="15%">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="ticket in vm.ticketList">
            <td></td>
            <td class="message">{{$index+1+pager.pageSize*(pager.getCurPageNo()-1)}}</td>
            <td class="message">{{ticket.ticketSn}}</td>
            <td class="message">{{ticket.customer.userId}}</td>
            <td class="message">{{ticket.customer.name}}</td>
            <td class="message">{{ticket.salemanId}}</td>
            <td class="message">{{ticket.salemanName}}</td>
            <td class="message">{{ticket.specName}}</td>
            <td class="message">{{ticket.price}}</td>
            <td class="message">{{ticket.ticketStatus.name}}</td>
            <td class="message">{{ticket.useTime}}</td>
            <td class="message">{{ticket.startDate}}</td>
            <td class="message">{{ticket.endDate}}</td>
            <td class="message">{{ticket.createTime}}</td>
            <td class="operate text-center">
                <button title="修改" ng-click="modify(ticket)" type="button" class="btn btn-primary btn-outline btn-xs">
                    <i class="fa fa-edit"></i>
                </button>

            </td>
        </tr>
        </tbody>
    </table>
    <div ng-if="vm.ticketList.length == 0" nj-table-no-data></div>
    <div nj-pager pager="pager"></div>
</div>
